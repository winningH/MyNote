<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>async,await</title>
  <script src="www/jquery.js"></script>
</head>
<body>
  <script>
    function sleep(sec) {
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          resolve('b')
        }, sec*1000);
      })
    }
    async function show() {
      alert('a')
      await sleep(1)
      alert('b')
      await sleep(2)
      alert('c')
    }
    show()

    // async(() => {
    //   await 异步操作
    // })

    /*
      await 错误处理
     */
    async function show() {
      try {
        let data1 = await $.ajax({url: '', dataType: 'json'})
        let data2 = await $.ajax({url: '', dataType: 'json'})
        let data3 = await $.ajax({url: '', dataType: 'json'})
      } catch(e) {
        alert ('error')
      }
    }
    show()
  </script>
</body>
</html>